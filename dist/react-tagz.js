"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react");function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n,r=t(e);!function(e){e[e.INLINE=0]="INLINE",e[e.LIST_MODE=1]="LIST_MODE"}(n||(n={}));var a,o=(function(e){!function(){var t={}.hasOwnProperty;function n(){for(var e=arguments,r=[],a=0;a<arguments.length;a++){var o=e[a];if(o){var i=typeof o;if("string"===i||"number"===i)r.push(o);else if(Array.isArray(o)&&o.length){var l=n.apply(null,o);l&&r.push(l)}else if("object"===i)for(var s in o)t.call(o,s)&&o[s]&&r.push(s)}}return r.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n}()}(a={exports:{}},a.exports),a.exports),i=function(){return r.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},r.default.createElement("polyline",{points:"20 6 9 17 4 12"}))},l=function(){return r.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},r.default.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),r.default.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))},s=function(){return r.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},r.default.createElement("polyline",{points:"3 6 5 6 21 6"}),r.default.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}))},u=function(){return r.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},r.default.createElement("polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"}))};function c(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css","top"===n&&r.firstChild?r.insertBefore(a,r.firstChild):r.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}}c(".suggestions-wrapper{background:#fff;border-radius:4px;filter:drop-shadow(0 0 10px rgba(0,0,0,.3));left:50%;margin-top:1rem;padding:.5rem;position:absolute;top:100%;transform:translateX(-50%);width:100%}.suggestions{list-style:none;margin:0;padding:0;width:100%;overflow-y:auto;max-height:350px;min-height:100px}.suggestions::-webkit-scrollbar{width:5px}.suggestions::-webkit-scrollbar-track{background:#f5f5f5}.suggestions::-webkit-scrollbar-thumb{background-color:#494949;border-radius:10px}.suggestion{align-items:center;align-self:flex-start;border-radius:4px;cursor:pointer;display:flex;font-size:.8rem;margin:.5rem 0;user-select:none}.suggestion.selected{background:#f5f5f5}.suggestion.disabled{filter:opacity(.4) grayscale(90%);pointer-events:none}.suggestion:hover{background:#f8de7e}.suggestion.list{text-align:left;width:98%}.suggest-text{font-size:.8rem}.check-icon-wrapper{border-radius:50%;height:1rem;margin-left:auto;margin-right:.5rem;width:1rem}.close-button{align-items:center;background:#494949;border:0;color:#f8de7e;cursor:pointer;display:flex;height:1.5rem;margin-left:auto;padding:0;width:1.5rem}.sug-header{display:flex;margin-bottom:.5rem;padding:.2rem}.status-label{align-items:center;display:flex;font-size:.85rem;font-weight:700}");var d=function(t){var a=t.items,s=t.mode,u=t.exclude,c=t.onSelection,d=t.onDelete,f=t.onCloseSuggestion,m=t.disableInput,g=e.useState(a.map((function(e){return{value:e,selected:!1}}))),p=g[0],h=g[1];e.useEffect((function(){u&&h(p.map((function(e){return Object.assign({},e,{selected:u.indexOf(e.value)>-1})})))}),[null==u?void 0:u.length]);var v=e.useMemo((function(){return`${p.filter((function(e){return e.selected})).length} out of ${p.length} selected`}),[JSON.stringify(p)]);return p.length?r.default.createElement("div",{className:"suggestions-wrapper"},r.default.createElement("span",{className:"sug-header"},r.default.createElement("span",{className:"status-label"},v),r.default.createElement("button",{onClick:f,className:"close-button"},r.default.createElement(l,null))),r.default.createElement("ul",{className:"suggestions"},p.map((function(e,t){return r.default.createElement("li",{key:t,onClick:function(){e.selected?d(e.value):c(e.value)},className:o({suggestion:!0,disabled:!e.selected&&m,selected:e.selected,list:s===n.LIST_MODE})},r.default.createElement("span",{style:{paddingLeft:"1rem"},className:"suggestion"},e.value),e.selected&&r.default.createElement("span",{className:"check-icon-wrapper"},r.default.createElement(i,null)))})))):null};c(".nav-bar-wrapper{align-items:center;display:flex;margin-top:1rem;padding:.2rem 0;width:100%}.nav-bar-controls{align-items:center;display:flex;justify-content:flex-end;margin:0;padding:0;width:30%}.nav-bar-message{font-size:.75rem;font-style:italic;font-weight:500;max-width:65%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.nav-bar-control{align-items:center;background:none;border:0;cursor:pointer;display:flex;height:1rem;justify-content:center;margin:0 .25rem;width:1rem;filter:opacity(var(--control-opacity));pointer-events:var(--pointer-events)}");var f=r.default.memo((function(t){var n=t.message,a=t.onClear,o=t.onShowSuggestions,i=t.disableTrash,l=e.useMemo((function(){return i?{"--control-opacity":.5,"--pointer-events":"none"}:{}}),[i]);return r.default.createElement("nav",{className:"nav-bar-wrapper"},r.default.createElement("span",{className:"nav-bar-message"},n),r.default.createElement("ul",{className:"nav-bar-controls"},r.default.createElement("li",{onClick:a,className:"nav-bar-control",style:l},r.default.createElement(s,null)),r.default.createElement("li",{onClick:o,className:"nav-bar-control"},r.default.createElement(u,null))))}),(function(e,t){return e.message===t.message&&e.disableTrash===t.disableTrash}));c(".edit-txt-wrapper{display:flex;align-items:center;justify-content:flex-start;outline:0;padding-left:.2rem}@keyframes blink{0%,to{background:#000}50%{background:transparent}}.edit-text{user-select:none;min-width:5px;font-size:.85rem;order:1;min-width:4px;padding:.25rem .2rem .25rem .1rem}.blink,.edit-text{align-items:center;display:flex}.blink{animation:blink;animation-duration:1s;animation-iteration-count:infinite;animation-timing-function:step-end;font-size:1rem;font-weight:500;text-align:left;justify-content:flex-start;width:1px;height:18px;margin-left:1px;order:var(--blink-order);visibility:var(--blink-visibility)}.char{order:var(--char-order)}.char-wrapper{align-items:center;display:flex}");var m=function(t){var n=t.hasFocus,a=t.order,o=e.useMemo((function(){return{"--blink-visibility":n?"visibility":"hidden","--blink-order":a}}),[n,a]);return r.default.createElement("span",{className:"blink",style:o})};c(".placeholder-wrapper{order:2}.placeholder-wrapper:hover{cursor:text}.placeholder{font-style:italic;font-size:.85rem;opacity:.65}");var g=function(e){return r.default.createElement("div",{onClick:e.onClick,onBlur:e.onBlr,className:"placeholder-wrapper"},r.default.createElement("span",{className:"placeholder"},e.value),e.children)},p=r.default.forwardRef((function(t,n){var a=t.value,o=t.onSaveEdit,i=t.cursorSize;void 0===i&&(i="SMALL");var l=t.onEditStatusChanged,s=t.placeholder;void 0===s&&(s="Enter a value...");var u=t.mode,c=t.editable;void 0===c&&(c=!1);var d=t.maxLength;void 0===d&&(d=20);var f=e.useState(a),p=f[0],h=f[1],v=e.useState(!1),b=v[0],w=v[1],x=e.useState(),E=x[0],k=x[1],y=e.useCallback((function(){!E&&c&&k(!0)}),[E]),S=e.useCallback((function(){k(!1)}),[b,p]),C=e.useState(a.length-1),N=C[0],M=C[1],I=e.useRef(!0),T=e.useRef(!1),j=e.useCallback((function(e){var t=e.key,n=p.length;if(e.ctrlKey&&"a"===t)w(!0);else if(1===t.length&&n<d){b&&(h(""),b&&w(!1));var r=" "===t?String.fromCharCode(160):t;I.current?h((function(e){return`${e}${r}`})):(h((function(e){var t=[].concat(e);return t.splice(N+1,0,r),t.join("")})),M(N+1))}else switch(t){case"Enter":p&&(o&&o(p.trim()),l(!1),"INPUT"===u&&h(""));break;case"Escape":k(!1),b&&w(!1),l(!1);break;case"Backspace":b?h(""):(h((function(e){return[].concat(e).filter((function(e,t){return t!==N})).join("")})),N>=0&&M(N-1));break;case"Home":case"End":M("Home"===t?-1:n-1),I.current="Home"===t,T.current="Home"===t,b&&w(!1);break;case"ArrowLeft":case"ArrowRight":"ArrowLeft"===t&&N>=0?M(N-1):"ArrowRight"===t&&N<n-1&&M(N+1),N>0&&N<n?(T.current=!1,I.current=!1):(T.current=!0,I.current=!1),b&&w(!1);break;case"Delete":b?h(""):n&&N<n&&h((function(e){return[].concat(e).filter((function(e,t){return t!==N+1})).join("")}))}}),[p,E,b,N]);e.useEffect((function(){null!=E&&(E?l(!0):(l(!1),w(!1),M(p.length-1)))}),[E]),e.useEffect((function(){p.length?I.current&&M(p.length-1):(w(!1),M(-1))}),[p]);var L=e.useMemo((function(){return N<0?"front":(p.length,"back")}),[N,p]),O=e.useMemo((function(){return N<0||E?r.default.createElement(m,{hasFocus:E,selectAll:b,cursorSize:i,order:0}):null}),[E,b,N,p]),D=e.useMemo((function(){return b?{background:"#ccc",color:"#000"}:{background:"transparent"}}),[b]),z=e.useMemo((function(){return{order:"front"===L?2:1}}),[L]);return r.default.createElement("div",{className:"edit-txt-wrapper",onBlur:S,onKeyDown:j,tabIndex:0,onFocus:y,ref:n},"INPUT"===u&&!p.length&&r.default.createElement(g,{value:s,onClick:y,onBlr:S}),r.default.createElement("span",{className:"edit-text",style:D},N<0&&O,[].concat(p).map((function(e,t){return r.default.createElement("span",{key:t,className:"char-wrapper"},r.default.createElement("span",{style:z},e),t===N&&r.default.createElement(m,{hasFocus:E,selectAll:b,cursorSize:i,order:t+1}))}))))}));c("@keyframes animate-blink{0%,to{color:transparent}50%{color:#000}}.tag,.tag-content-wrapper{align-items:center;display:flex}.tag{background:var(--tag-bg-color);border-radius:4px;border:1px solid var(--tag-border-color);font-size:1rem;margin:.25rem;outline:0;padding:.25rem}.close-icon-wrapper{align-items:center;background:#494949;border-radius:50%;color:#fff;cursor:pointer;display:flex;height:1rem;justify-content:center;margin-left:auto;margin-right:.25rem;width:1rem}");var h=function(t){var n=t.name,a=t.id,o=t.onDelete,i=t.readOnly,s=(t.hide,t.onSaveEdit),u=e.useCallback((function(e){a&&s&&s(a,e)}),[]),c=e.useState(!1),d=c[0],f=c[1],m=e.useCallback((function(e){f(e),e?g.current&&g.current.focus():g.current&&g.current.blur()}),[]),g=e.useRef(null),h=e.useMemo((function(){return{"--tag-bg-color":d?"#FFF":"rgba(248,222,126,1.0)","--tag-border-color":d?"#494949":"transparent"}}),[d]);return r.default.createElement("li",{className:"tag",style:h,tabIndex:0},r.default.createElement("div",null,r.default.createElement(p,{value:n,onSaveEdit:u,onEditStatusChanged:m,ref:g,mode:"EDIT",editable:!i})),!i&&r.default.createElement("span",{onClick:function(){return a&&o&&o(a)},tabIndex:0,className:"close-icon-wrapper"},r.default.createElement(l,null)))};c(".tags-input-wrapper{align-self:center;margin-bottom:.5rem;margin-top:.5rem}");var v=function(e){var t=e.onInput,n=e.inputRef,a=e.onStatusChange;return r.default.createElement("div",{className:"tags-input-wrapper"},r.default.createElement(p,{value:"",onSaveEdit:function(e){t(e)},onEditStatusChanged:a,showCursor:!0,ref:n,mode:"INPUT",editable:!0}))};c(".tags-wrapper{background:#f5f5f5;border-radius:4px;box-shadow:inset 0 0 10px rgba(0,0,0,.1);display:flex;flex-wrap:wrap;list-style:none;margin:0;padding:1rem 1rem .5rem;position:relative;transition:height .3s ease-out;user-select:none;width:450px}");var b=function(e){var t=e.disableInput,n=e.inputRef,a=e.items,o=e.onClearTags,i=e.onDelete,l=e.onInput,s=e.onSaveEdit,u=e.onToggleSuggestions,c=e.readOnly,d=e.validationMessage,m=e.onInputStatusChanged;return r.default.createElement("ul",{className:"tags-wrapper"},a.map((function(e){return r.default.createElement(h,Object.assign({},e,{key:e.id,onDelete:i,onSaveEdit:s}))})),!t&&r.default.createElement(v,{onInput:l,inputRef:n,onStatusChange:m}),!c&&r.default.createElement(f,{onShowSuggestions:u,message:d,onClear:o,disableTrash:!a.length}))};c(".main-wrapper{display:flex;flex-direction:column;position:relative;transition:max-height .5s cubic-bezier(0,1,0,1);max-height:600px}svg{width:100%;height:100%}");exports.ReactTagz=function(t){var a=t.items,o=t.maxTags;void 0===o&&(o=5);var i=t.allowDuplicates;void 0===i&&(i=!1);var l=t.allowParsing;void 0===l&&(l={delimiter:","});var s=t.readOnly;void 0===s&&(s=!1);var u=t.suggestions;void 0===u&&(u=[]);var c=t.suggestionMode;void 0===c&&(c=n.LIST_MODE);var f=t.placeholder;void 0===f&&(f="Choose an option ...");var m=e.useState([]),g=m[0],p=m[1],h=e.useState(""),v=h[0],w=h[1],x=e.useState([]),E=x[0],k=x[1],y=e.useState(!1),S=y[0],C=y[1],N=e.useState(f),M=N[0],I=N[1],T=e.useRef(null),j=e.useMemo((function(){return g.length===o}),[g.length]),L=e.useMemo((function(){return!i&&g.some((function(e){return e.name===v}))}),[v,g.length]),O=e.useMemo((function(){return j||s}),[j,s]),D=e.useMemo((function(){return!j&&!L}),[j,L]),z=e.useCallback((function(e){return w(e)}),[]),R=e.useCallback((function(e){var t=g.find((function(t){return t.id===e}));p((function(t){return t.filter((function(t){return t.id!==e}))})),t&&k((function(e){return e.filter((function(e){return e!==t.name}))})),I(f),T.current&&T.current.focus()}),[g.length]),B=e.useCallback((function(){return C(!S)}),[S]),A=e.useMemo((function(){return S&&!s}),[S,s]),F=e.useCallback((function(){p([]),k([]),I(f),T.current&&T.current.focus()}),[]),P=e.useCallback((function(e,t){var n=g.find((function(t){return t.id===e}));u.indexOf(t)>-1&&E.every((function(e){return e!==t}))&&k((function(e){return e.concat(t)})),n&&u.some((function(e){return e===n.name}))&&E.some((function(e){return e===n.name}))&&k((function(e){return e.filter((function(e){return e!==n.name}))})),p((function(n){return n.map((function(n){return n.id===e?Object.assign({},n,{name:t,value:t}):n}))})),T.current&&T.current.focus()}),[E]),_=e.useCallback((function(e){k((function(t){return null==t?void 0:t.concat(e)})),w(e)}),[]),H=e.useCallback((function(e){T.current&&e&&T.current.focus()}),[]);return e.useEffect((function(){j?I("You have reached the maximum tags allowed."):L&&I("You already have that tag.")}),[j,L]),e.useEffect((function(){if(D&&v){var e=v.split(l.delimiter).slice(0,Math.max(0,o-g.length)).map((function(e){return{name:e,value:e,id:Math.random().toString(16).slice(2),order:g.length+1}}));p((function(t){return t.concat(e)})),I(""),u.some((function(e){return e===v}))&&k((function(e){return e.concat(v)}))}v&&w("")}),[v]),e.useEffect((function(){var e;e=a.map((function(e,t){return Object.assign({},e,{id:Math.random().toString(16).slice(2),readOnly:s,order:t})})).slice(0,o),p(e),k(a.map((function(e){return e.name})))}),[]),r.default.createElement("div",{className:"main-wrapper"},r.default.createElement(b,{disableInput:O,inputRef:T,items:g,onClearTags:F,onDelete:R,onInput:z,onSaveEdit:P,onToggleSuggestions:B,readOnly:s,validationMessage:M,onInputStatusChanged:H}),A&&r.default.createElement(d,{disableInput:O,exclude:E,items:u,mode:c,onCloseSuggestion:B,onDelete:function(e){var t=g.find((function(t){return t.name===e}));null!=t&&t.id&&R(t.id)},onSelection:_}))};
